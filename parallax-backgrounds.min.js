/*
* parallaxBackgrounds plugin
* Copyright (c) 2017 Adam Lafene
*
* Licensed under the terms of the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*/
(function(c){var q=!!document.querySelector,l=c.jQuery,m=function(a,e,d){if("[object Object]"===Object.prototype.toString.call(a))for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&e.call(d,a[b],b,a);else{b=0;for(var f=a.length;b<f;b++)e.call(d,a[b],b,a)}},r=function(a,e){if(a.length)m(a,function(a){for(var b in e)a.style[b]=e[b]});else for(var d in e)a.style[d]=e[d];return a},t=function(a){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?a():document.addEventListener("DOMContentLoaded",
a)},u=function(a,e,d){var b,f,c,h=null,k=0;d||(d={});var g=function(){k=!1===d.leading?0:(Date.now||function(){return(new Date).getTime()})();h=null;c=a.apply(b,f);h||(b=f=null)};return function(){var n=(Date.now||function(){return(new Date).getTime()})();k||!1!==d.leading||(k=n);var p=e-(n-k);b=this;f=arguments;0>=p||p>e?(h&&(clearTimeout(h),h=null),k=n,c=a.apply(b,f),h||(b=f=null)):h||!1===d.trailing||(h=setTimeout(g,p));return c}};if(!l){var g=function(a){if(!(this instanceof g))return new g(a);
this.domObj=document.querySelectorAll(a)};g.fn=g.prototype={};c.PBg=g;l=c.PBg}l.fn.parallaxBackgrounds=function(a){var e=this.domObj||this;if(1>e.length||!q)return!1;var d=a||"",b=[],f,g,h=function(){f=0<d.length?parseInt(c.getComputedStyle(d).getPropertyValue("height")):0;g=c.innerHeight-f;m(e,function(a,e){if(1===a.nodeType){var d=parseInt(c.getComputedStyle(a).getPropertyValue("height")),f=a.getBoundingClientRect();var g=c.pageYOffset||document.documentElement.scrollTop;g=parseInt(f.top)+g;parseInt(f.left);
b[e]={height:d,top:g}}})},k=function(){var a=c.pageYOffset||document.documentElement.scrollTop;m(e,function(e,d){if(1===e.nodeType&&b[d]){var c=b[d].height,h=b[d].top;c=Math.round((h-a-f+c)/((h-f>g?g+c:h-f+c)/100));r(e,{"background-position":"50% "+(100<c?100:0>c?0:c)+"%"})}})},l=this.update=function(){h();k()};t(function(){l()});c.addEventListener("scroll",u(function(){k()},10));return this}})(window);
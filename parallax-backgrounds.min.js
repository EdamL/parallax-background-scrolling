/*
* parallaxBackgrounds plugin
* Copyright (c) 2017 Adam Lafene
*
* Licensed under the terms of the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*/
(function(c){var q=!!document.querySelector,l=c.jQuery,m=function(a,e,d){if("[object Object]"===Object.prototype.toString.call(a))for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&e.call(d,a[b],b,a);else{b=0;for(var f=a.length;b<f;b++)e.call(d,a[b],b,a)}},r=function(a,e){if(a.length)m(a,function(a){for(var b in e)a.style[b]=e[b]});else for(var d in e)a.style[d]=e[d];return a},t=function(a){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?a():document.addEventListener("DOMContentLoaded",
a)},u=function(a,e,d){var b,f,c,g=null,k=0;d||(d={});var h=function(){k=!1===d.leading?0:(Date.now||function(){return(new Date).getTime()})();g=null;c=a.apply(b,f);g||(b=f=null)};return function(){var n=(Date.now||function(){return(new Date).getTime()})();k||!1!==d.leading||(k=n);var p=e-(n-k);b=this;f=arguments;0>=p||p>e?(g&&(clearTimeout(g),g=null),k=n,c=a.apply(b,f),g||(b=f=null)):g||!1===d.trailing||(g=setTimeout(h,p));return c}};if(!l){var h=function(a){if(!(this instanceof h))return new h(a);
this.domObj=document.querySelectorAll(a)};h.fn=h.prototype={};c.PBg=h;l=c.PBg}l.fn.parallaxBackgrounds=function(a){var e=this.domObj||this;if(1>e.length||!q)return!1;var d=a||"",b=[],f,h,g=function(){f=0<d.length?parseInt(c.getComputedStyle(d).getPropertyValue("height")):0;h=c.innerHeight-f;m(e,function(a,e){if(1===a.nodeType){var d=parseInt(c.getComputedStyle(a).getPropertyValue("height")),f=a.getBoundingClientRect();b[e]={height:d,top:f.top+document.body.scrollTop}}})},k=function(){var a=c.pageYOffset||
document.documentElement.scrollTop;m(e,function(e,d){if(1===e.nodeType&&b[d]){var c=b[d].height,g=b[d].top;c=Math.round((g-a-f+c)/((g-f>h?h+c:g-f+c)/100));r(e,{"background-position":"50% "+(100<c?100:0>c?0:c)+"%"})}})},l=this.update=function(){g();k()};t(function(){l()});c.addEventListener("scroll",u(function(){k()},10));return this}})(window);